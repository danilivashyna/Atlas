# Reticulum v0.6.0: Content Linking and Backreferences

## Overview

Reticulum introduces content-aware linking with versioned links and backreference tracking. This enables semantic connections between nodes and content, with recency-weighted scoring and efficient neighbor discovery.

## Features

### Link Versions
- Store multiple versions of links per content ID
- Score-based ranking with recency weighting
- Metadata support for link types and context

### Backreferences
- Track content references to nodes
- Hit counting and last-seen timestamps
- Top backreferences by popularity

### API Endpoints

#### POST /reticulum/link_version
Create or update a link version.
```json
{
  "node_path": "dim2/dim2.4",
  "content_id": "doc123",
  "version": 1,
  "score": 0.8,
  "kind": "doc",
  "meta": {"author": "alice"}
}
```

#### GET /reticulum/recent
Get recent links with recency weighting.

#### GET /reticulum/node/{path}/neighbors
Get neighboring nodes via content links.

#### POST /reticulum/backref/touch
Update backreference hit count.

#### GET /reticulum/backref/top/{content_id}
Get top nodes referencing content.

## Metrics

- `reticulum_link_versions_total`: Link version operations
- `reticulum_recent_links_total`: Recent link queries
- `reticulum_neighbors_total`: Neighbor discoveries
- `reticulum_backrefs_total`: Backreference operations
- `reticulum_latency_seconds`: Operation latency histogram

## Database Schema

### link_versions
```sql
CREATE TABLE IF NOT EXISTS link_versions (
    node_path TEXT NOT NULL,
    content_id TEXT NOT NULL,
    version INTEGER NOT NULL,
    score REAL NOT NULL,
    kind TEXT,
    meta TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (node_path, content_id, version)
);
CREATE INDEX IF NOT EXISTS idx_link_versions_content ON link_versions(content_id);
CREATE INDEX IF NOT EXISTS idx_link_versions_score ON link_versions(score DESC);
```

### link_backrefs
```sql
CREATE TABLE IF NOT EXISTS link_backrefs (
    content_id TEXT NOT NULL,
    node_path TEXT NOT NULL,
    hit_count INTEGER DEFAULT 1,
    last_seen_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (content_id, node_path)
);
CREATE INDEX IF NOT EXISTS idx_link_backrefs_hits ON link_backrefs(hit_count DESC);
```
